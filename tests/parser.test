#!/bin/sh
cat <<EOF >input
algorithme procedure foo
debut
a <- 2 * 3
b <- 3 + 4 * 5
c <- a ou b
d <- f(2 + 2, b et c, foo)
fin algorithme procedure foo
EOF

valgrind --leak-check=full --show-leak-kinds=all ./a2c input >out
cat <<EOF >exp
void foo(void)
{
a = (2 * 3);
b = (3 + (4 * 5));
c = (a ou b);
d = f((2 + 2), (b et c), foo);
}
EOF

diff exp out
